var sim_components=new Object();var sim_states=new Object();var sim_events=new Object();var io_hash=new Object();var sim_signals=new Object();var fire_stack=new Array();var syntax_behavior=new Object();syntax_behavior.PRINT_S={nparameters:2,types:["S"],operation:function(a){console.log(a[1]+": 0x"+sim_signals[a[1]].value.toString(16))}};syntax_behavior.PRINT_E={nparameters:2,types:["E"],operation:function(a){console.log(a[1]+": 0x"+sim_states[a[1]].value.toString(16))}};sim_components.CPU={name:"CPU",version:"1",write_state:function(c){if(typeof c.CPU=="undefined"){c.CPU=new Object()}var a=["PC","SR"];var d=0;for(var b=0;b<sim_states.BR.length;b++){d=parseInt(sim_states.BR[b].value);if(d!=0){c.CPU["R"+b]={type:"register",default_value:0,id:"R"+b,op:"=",value:"0x"+d.toString(16)}}}for(var b=0;b<a.length;b++){d=parseInt(sim_states["REG_"+a[b]].value);if(d!=0){c.CPU[a[b]]={type:"register",default_value:0,id:a[b],op:"=",value:"0x"+d.toString(16)}}}return c},read_state:function(c,a){if(typeof c.CPU=="undefined"){c.CPU=new Object()}var b=a.id.toUpperCase().trim();var d=parseInt(a.value).toString(16);if("REGISTER"==a.type.toUpperCase().trim()){c.CPU[b]={type:"register",default_value:0,id:b,op:a.condition,value:"0x"+d};return true}return false},get_state:function(b){var c=b.toUpperCase().trim();if(typeof sim_states["REG_"+c]!="undefined"){return"0x"+get_value(sim_states["REG_"+c]).toString(16)}c=c.replace("R","");var a=parseInt(c);if(typeof sim_states.BR[a]!="undefined"){return"0x"+get_value(sim_states.BR[a]).toString(16)}return null}};var MC=new Object();var MC_dashboard=new Object();var ROM=new Object();var FIRMWARE=new Object();sim_states.BR=new Array();sim_states.BR[0]={name:"R0",visible:true,nbits:"32",value:0,default_value:0,draw_data:[]};sim_states.BR[1]={name:"R1",visible:true,nbits:"32",value:0,default_value:0,draw_data:[]};sim_states.BR[2]={name:"R2",visible:true,nbits:"32",value:0,default_value:0,draw_data:[]};sim_states.BR[3]={name:"R3",visible:true,nbits:"32",value:0,default_value:0,draw_data:[]};sim_states.BR[4]={name:"R4",visible:true,nbits:"32",value:0,default_value:0,draw_data:[]};sim_states.BR[5]={name:"R5",visible:true,nbits:"32",value:0,default_value:0,draw_data:[]};sim_states.BR[6]={name:"R6",visible:true,nbits:"32",value:0,default_value:0,draw_data:[]};sim_states.BR[7]={name:"R7",visible:true,nbits:"32",value:0,default_value:0,draw_data:[]};sim_states.BR[8]={name:"R8",visible:true,nbits:"32",value:0,default_value:0,draw_data:[]};sim_states.BR[9]={name:"R9",visible:true,nbits:"32",value:0,default_value:0,draw_data:[]};sim_states.BR[10]={name:"R10",visible:true,nbits:"32",value:0,default_value:0,draw_data:[]};sim_states.BR[11]={name:"R11",visible:true,nbits:"32",value:0,default_value:0,draw_data:[]};sim_states.BR[12]={name:"R12",visible:true,nbits:"32",value:0,default_value:0,draw_data:[]};sim_states.BR[13]={name:"R13",visible:true,nbits:"32",value:0,default_value:0,draw_data:[]};sim_states.BR[14]={name:"R14",visible:true,nbits:"32",value:0,default_value:0,draw_data:[]};sim_states.BR[15]={name:"R15",visible:true,nbits:"32",value:0,default_value:0,draw_data:[]};sim_states.BR[16]={name:"R16",visible:true,nbits:"32",value:0,default_value:0,draw_data:[]};sim_states.BR[17]={name:"R17",visible:true,nbits:"32",value:0,default_value:0,draw_data:[]};sim_states.BR[18]={name:"R18",visible:true,nbits:"32",value:0,default_value:0,draw_data:[]};sim_states.BR[19]={name:"R19",visible:true,nbits:"32",value:0,default_value:0,draw_data:[]};sim_states.BR[20]={name:"R20",visible:true,nbits:"32",value:0,default_value:0,draw_data:[]};sim_states.BR[21]={name:"R21",visible:true,nbits:"32",value:0,default_value:0,draw_data:[]};sim_states.BR[22]={name:"R22",visible:true,nbits:"32",value:0,default_value:0,draw_data:[]};sim_states.BR[23]={name:"R23",visible:true,nbits:"32",value:0,default_value:0,draw_data:[]};sim_states.BR[24]={name:"R24",visible:true,nbits:"32",value:0,default_value:0,draw_data:[]};sim_states.BR[25]={name:"R25",visible:true,nbits:"32",value:0,default_value:0,draw_data:[]};sim_states.BR[26]={name:"R26",visible:true,nbits:"32",value:0,default_value:0,draw_data:[]};sim_states.BR[27]={name:"R27",visible:true,nbits:"32",value:0,default_value:0,draw_data:[]};sim_states.BR[28]={name:"R28",visible:true,nbits:"32",value:0,default_value:0,draw_data:[]};sim_states.BR[29]={name:"R29",visible:true,nbits:"32",value:0,default_value:0,draw_data:[]};sim_states.BR[30]={name:"R30",visible:true,nbits:"32",value:0,default_value:0,draw_data:[]};sim_states.BR[31]={name:"R31",visible:true,nbits:"32",value:0,default_value:0,draw_data:[]};sim_states.REG_PC={name:"PC",visible:true,nbits:"32",value:0,default_value:0,draw_data:[]};sim_states.REG_MAR={name:"MAR",visible:true,nbits:"32",value:0,default_value:0,draw_data:[]};sim_states.REG_MBR={name:"MBR",visible:true,nbits:"32",value:0,default_value:0,draw_data:[]};sim_states.REG_IR={name:"IR",visible:true,nbits:"32",value:0,default_value:0,draw_data:[]};sim_states.REG_RT1={name:"RT1",visible:true,nbits:"32",value:0,default_value:0,draw_data:[]};sim_states.REG_RT2={name:"RT2",visible:true,nbits:"32",value:0,default_value:0,draw_data:[]};sim_states.REG_RT3={name:"RT3",visible:true,nbits:"32",value:0,default_value:0,draw_data:[]};sim_states.REG_SR={name:"SR",visible:true,nbits:"32",value:0,default_value:0,draw_data:[]};sim_states.BUS_IB={name:"I_BUS",visible:false,nbits:"32",value:0,default_value:0,draw_data:[]};sim_states.BUS_AB={name:"A_BUS",visible:false,nbits:"32",value:0,default_value:0,draw_data:[]};sim_states.BUS_CB={name:"C_BUS",visible:false,nbits:"32",value:0,default_value:0,draw_data:[]};sim_states.BUS_DB={name:"D_BUS",visible:false,nbits:"32",value:0,default_value:0,draw_data:[]};sim_states.C2_T2={name:"C2_T2",visible:false,nbits:"32",value:0,default_value:0,draw_data:[]};sim_states.RA_T9={name:"RA_T9",visible:false,nbits:"32",value:0,default_value:0,draw_data:[]};sim_states.RB_T10={name:"RB_T10",visible:false,nbits:"32",value:0,default_value:0,draw_data:[]};sim_states.SELEC_T3={name:"SELEC_T3",visible:false,nbits:"32",value:0,default_value:0,draw_data:[]};sim_states.SELP_M7={name:"SELP_M7",visible:false,nbits:"32",value:0,default_value:0,draw_data:[]};sim_states.SUM4_M2={name:"SUM4_M2",visible:false,nbits:"32",value:0,default_value:0,draw_data:[]};sim_states.ALU_C6={name:"ALU_C6",visible:false,nbits:"32",value:0,default_value:0,draw_data:[]};sim_states.MA_ALU={name:"MA_ALU",visible:false,nbits:"32",value:0,default_value:0,draw_data:[]};sim_states.MB_ALU={name:"MB_ALU",visible:false,nbits:"32",value:0,default_value:0,draw_data:[]};sim_states.FLAG_C={name:"FLAG_C",visible:true,nbits:"1",value:0,default_value:0,draw_data:[]};sim_states.FLAG_V={name:"FLAG_V",visible:true,nbits:"1",value:0,default_value:0,draw_data:[]};sim_states.FLAG_N={name:"FLAG_N",visible:true,nbits:"1",value:0,default_value:0,draw_data:[]};sim_states.FLAG_Z={name:"FLAG_Z",visible:true,nbits:"1",value:0,default_value:0,draw_data:[]};sim_states.FLAG_I={name:"FLAG_I",visible:true,nbits:"1",value:0,default_value:0,draw_data:[]};sim_states.FLAG_U={name:"FLAG_U",visible:true,nbits:"1",value:0,default_value:0,draw_data:[]};sim_states.REG_MICROADDR={name:"µADDR",visible:true,nbits:"12",value:0,default_value:0,draw_data:["svg_cu:text4667"]};sim_states.REG_MICROINS={name:"µINS",visible:true,nbits:"77",value:{},default_value:{},draw_data:[]};sim_states.FETCH={name:"FETCH",visible:false,nbits:"12",value:0,default_value:0,draw_data:[]};sim_states.ROM_MUXA={name:"ROM_MUXA",visible:false,nbits:"12",value:0,default_value:0,draw_data:[]};sim_states.SUM_ONE={name:"SUM_ONE",visible:false,nbits:"12",value:1,default_value:1,draw_data:[]};sim_states.MUXA_MICROADDR={name:"MUXA_MICROADDR",visible:false,nbits:"12",value:0,default_value:0,draw_data:[]};sim_states.MUXC_MUXB={name:"MUXC_MUXB",visible:false,nbits:"1",value:0,default_value:0,draw_data:[]};sim_states.INEX={name:"INEX",visible:false,nbits:"1",value:0,default_value:0,draw_data:[]};sim_states.BS_M1={name:"BS_M1",visible:false,nbits:"32",value:0,default_value:0,draw_data:[]};sim_states.BS_TD={name:"BS_TD",visible:false,nbits:"32",value:0,default_value:0,draw_data:[]};sim_states.INTV={name:"INTV",visible:false,nbits:"8",value:0,default_value:0,draw_data:[]};sim_states.M2_C2={name:"M2_C2",visible:false,nbits:"32",value:0,default_value:0,draw_data:[]};sim_states.M1_C1={name:"M1_C1",visible:false,nbits:"32",value:0,default_value:0,draw_data:[]};sim_states.M7_C7={name:"M7_C7",visible:false,nbits:"32",value:0,default_value:0,draw_data:[]};sim_states.VAL_ZERO={name:"VAL_ZERO",visible:false,nbits:"1",value:0,default_value:0,draw_data:[]};sim_states.VAL_ONE={name:"VAL_ONE",visible:false,nbits:"32",value:1,default_value:1,draw_data:[]};sim_states.VAL_FOUR={name:"VAL_FOUR",visible:false,nbits:"32",value:4,default_value:4,draw_data:[]};sim_states.REG_IR_DECO={name:"IR_DECO",visible:true,nbits:"0",value:0,default_value:0,draw_data:[]};sim_states.DECO_INS={name:"DECO_INS",visible:true,nbits:"32",value:0,default_value:0,draw_data:[]};sim_states.CLK={name:"CLK",visible:false,nbits:"32",value:0,default_value:0,draw_data:[]};sim_signals.C={name:"C",visible:true,type:"L",value:0,default_value:0,nbits:"4",behavior:["MV MUXC_MUXB VAL_ZERO; FIRE_IFCHANGED B MUXC_MUXB; RESET_CHANGED MUXC_MUXB","MBIT MUXC_MUXB INT 0 1; FIRE_IFCHANGED B MUXC_MUXB; RESET_CHANGED MUXC_MUXB","MBIT MUXC_MUXB IORDY 0 1; FIRE_IFCHANGED B MUXC_MUXB; RESET_CHANGED MUXC_MUXB","MBIT MUXC_MUXB MRDY 0 1; FIRE_IFCHANGED B MUXC_MUXB; RESET_CHANGED MUXC_MUXB","MBIT MUXC_MUXB REG_SR 0 1; FIRE_IFCHANGED B MUXC_MUXB; RESET_CHANGED MUXC_MUXB","MBIT MUXC_MUXB REG_SR 1 1; FIRE_IFCHANGED B MUXC_MUXB; RESET_CHANGED MUXC_MUXB","MBIT MUXC_MUXB REG_SR 28 1; FIRE_IFCHANGED B MUXC_MUXB; RESET_CHANGED MUXC_MUXB","MBIT MUXC_MUXB REG_SR 29 1; FIRE_IFCHANGED B MUXC_MUXB; RESET_CHANGED MUXC_MUXB","MBIT MUXC_MUXB REG_SR 30 1; FIRE_IFCHANGED B MUXC_MUXB; RESET_CHANGED MUXC_MUXB","MBIT MUXC_MUXB REG_SR 31 1; FIRE_IFCHANGED B MUXC_MUXB; RESET_CHANGED MUXC_MUXB","MV MUXC_MUXB INEX; FIRE_IFCHANGED B MUXC_MUXB; RESET_CHANGED MUXC_MUXB"],fire_name:["svg_cu:text3410"],draw_data:[["svg_cu:path3108"],["svg_cu:path3062"],["svg_cu:path3060"],["svg_cu:path3136"],["svg_cu:path3482"],["svg_cu:path3480"],["svg_cu:path3488"],["svg_cu:path3486"],["svg_cu:path3484"],["svg_cu:path3484-9"],["svg_cu:path3108-3","svg_cu:path3260-3-8-6","svg_cu:path3260-3-8","svg_cu:path3260-3"]],draw_name:[["svg_cu:path3496","svg_cu:path3414","svg_cu:path3194-08"]]};sim_signals.B={name:"B",visible:true,type:"L",value:0,default_value:0,nbits:"1",behavior:["MV A1 MUXC_MUXB; FIRE A1","NOT_ES A1 MUXC_MUXB; FIRE A1"],depends_on:["CLK"],fire_name:["svg_cu:text3408"],draw_data:[["svg_cu:path3094-7"],["svg_cu:path3392","svg_cu:path3372","svg_cu:path3390","svg_cu:path3384","svg_cu:path3108-1","svg_cu:path3100-8-7"]],draw_name:[[],["svg_cu:path3194-0","svg_cu:path3138-8","svg_cu:path3498-6"]]};sim_signals.A0={name:"A0",visible:false,type:"L",value:0,default_value:0,nbits:"1",behavior:["SBIT A0A1 A0 1; FIRE A0A1","SBIT A0A1 A0 1; FIRE A0A1"],depends_on:["CLK"],fire_name:["svg_cu:text3406"],draw_data:[["svg_cu:path3096"],["svg_cu:path3096"]],draw_name:[[],["svg_cu:path3138-8-1","svg_cu:path3098-2","svg_cu:path3124-2-5"]]};sim_signals.A1={name:"A1",visible:false,type:"L",value:0,default_value:0,nbits:"1",behavior:["SBIT A0A1 A1 0; FIRE A0A1","SBIT A0A1 A1 0; FIRE A0A1"],depends_on:["CLK"],fire_name:[],draw_data:[["svg_cu:path3094"],["svg_cu:path3094"]],draw_name:[[]]};sim_signals.A0A1={name:"A0A1",visible:true,type:"L",value:0,default_value:0,nbits:"2",behavior:["ADD MUXA_MICROADDR REG_MICROADDR SUM_ONE","MV MUXA_MICROADDR REG_MICROINS/MADDR","MV MUXA_MICROADDR ROM_MUXA","MV MUXA_MICROADDR FETCH"],depends_on:["CLK"],fire_name:[],draw_data:[["svg_cu:path3102","svg_cu:path3100","svg_cu:path3098","svg_cu:path3100-9","svg_cu:path3088"],["svg_cu:path3104","svg_cu:path3134","svg_cu:path3500","svg_cu:path3416"],["svg_cu:path3504","svg_cu:path3100-8","svg_cu:path3234-9"],["svg_cu:path3124"]],draw_name:[[]]};sim_signals.C0={name:"C0",visible:true,type:"E",value:0,default_value:0,nbits:"1",behavior:["NOP","MV REG_MAR BUS_IB"],fire_name:["svg_p:text3077"],draw_data:[["svg_p:path3081"]],draw_name:[["svg_p:path3075"]]};sim_signals.C1={name:"C1",visible:true,type:"E",value:0,default_value:0,nbits:"1",behavior:["NOP","MV REG_MBR M1_C1"],fire_name:["svg_p:text3079"],draw_data:[["svg_p:path3055"]],draw_name:[["svg_p:path3073"]]};sim_signals.C2={name:"C2",visible:true,type:"E",value:0,default_value:0,nbits:"1",behavior:["NOP","MV REG_PC M2_C2; UPDATEDPC"],fire_name:["svg_p:text3179"],draw_data:[["svg_p:path3485"]],draw_name:[["svg_p:path3177"]]};sim_signals.C3={name:"C3",visible:true,type:"E",value:0,default_value:0,nbits:"1",behavior:["NOP","MV REG_IR BUS_IB; DECO; FIRE_IFSET C 10"],fire_name:["svg_p:text3439"],draw_data:[["svg_p:path3339"]],draw_name:[["svg_p:path3337"]]};sim_signals.C4={name:"C4",visible:true,type:"E",value:0,default_value:0,nbits:"1",behavior:["NOP","MV REG_RT1 BUS_IB"],fire_name:["svg_p:text3441"],draw_data:[["svg_p:path3263"]],draw_name:[["svg_p:path3255"]]};sim_signals.C5={name:"C5",visible:true,type:"E",value:0,default_value:0,nbits:"1",behavior:["NOP","MV REG_RT2 BUS_IB"],fire_name:["svg_p:text3443"],draw_data:[["svg_p:path3277"]],draw_name:[["svg_p:path3269"]]};sim_signals.C6={name:"C6",visible:true,type:"E",value:0,default_value:0,nbits:"1",behavior:["NOP","MV REG_RT3 ALU_C6"],fire_name:["svg_p:text3445"],draw_data:[["svg_p:path3325","svg_p:path3323"]],draw_name:[["svg_p:path3245"]]};sim_signals.C7={name:"C7",visible:true,type:"E",value:0,default_value:0,nbits:"1",behavior:["NOP","MV REG_SR M7_C7; FIRE C"],fire_name:["svg_p:text3655"],draw_data:[["svg_p:path3651-9"]],draw_name:[["svg_p:path3681"]]};sim_signals.TA={name:"TA",visible:true,type:"L",value:0,default_value:0,nbits:"1",behavior:["NOP","MV BUS_AB REG_MAR; MOVE_BITSE A1A0 0 2 BUS_AB 0; FIRE_IFCHANGED A1A0 A1A0"],fire_name:["svg_p:text3091"],draw_data:[["svg_p:path3089","svg_p:path3597","svg_p:path3513","svg_p:path3601","svg_p:path3601-2","svg_p:path3187","svg_p:path3087","svg_p:path2995","svg_p:path3535"]],draw_name:[["svg_p:path3085"]]};sim_signals.TD={name:"TD",visible:true,type:"L",value:0,default_value:0,nbits:"1",behavior:["NOP","MV BUS_DB BS_TD; MOVE_BITSE A1A0 0 2 BUS_AB 0; FIRE_IFCHANGED A1A0 A1A0"],fire_name:["svg_p:text3103"],draw_data:[["svg_p:path3101","svg_p:path3587","svg_p:path3515","svg_p:path3071","svg_p:path3419","svg_p:path3099","svg_p:path3097","svg_p:path3559-5","svg_p:path3419-1-0","svg_p:path3583","svg_p:path3419-1","svg_p:path3493","svg_p:path3641","svg_p:path3541"]],draw_name:[["svg_p:path3095"]]};sim_signals.T1={name:"T1",visible:true,type:"L",value:0,default_value:0,nbits:"1",behavior:["NOP","MV BUS_IB REG_MBR; FIRE M7; FIRE M2; FIRE M1"],fire_name:["svg_p:text3105"],draw_data:[["svg_p:path3071","svg_p:path3069","svg_p:path3049","svg_p:path3063-9","svg_p:path3071"]],draw_name:[["svg_p:path3067"]]};sim_signals.T2={name:"T2",visible:true,type:"L",value:0,default_value:0,nbits:"1",behavior:["NOP","MV BUS_IB REG_PC; FIRE M7; FIRE M2; FIRE M1"],fire_name:["svg_p:text3449"],draw_data:[["svg_p:path3199","svg_p:path3201","svg_p:path3049"]],draw_name:[["svg_p:path3329"]]};sim_signals.T3={name:"T3",visible:true,type:"L",value:0,default_value:0,nbits:"1",behavior:["NOP","MV BUS_IB SELEC_T3; FIRE M7; FIRE M2; FIRE M1"],fire_name:["svg_p:text3451"],draw_data:[["svg_p:path3349","svg_p:path3931","svg_p:path3345","svg_p:path3049"]],draw_name:[["svg_p:path3351"]]};sim_signals.T4={name:"T4",visible:true,type:"L",value:0,default_value:0,nbits:"1",behavior:["NOP","MV BUS_IB REG_RT1; FIRE M7; FIRE M2; FIRE M1"],fire_name:["svg_p:text3453"],draw_data:[["svg_p:path3261","svg_p:path3259","svg_p:path3049"]],draw_name:[["svg_p:path3305"]]};sim_signals.T5={name:"T5",visible:true,type:"L",value:0,default_value:0,nbits:"1",behavior:["NOP","MV BUS_IB REG_RT2; FIRE M7; FIRE M2; FIRE M1"],fire_name:["svg_p:text3455"],draw_data:[["svg_p:path3275","svg_p:path3273","svg_p:path3049"]],draw_name:[["svg_p:path3307"]]};sim_signals.T6={name:"T6",visible:true,type:"L",value:0,default_value:0,nbits:"1",behavior:["NOP","MV BUS_IB ALU_C6; FIRE M7; FIRE M2; FIRE M1"],fire_name:["svg_p:text3457"],draw_data:[["svg_p:path3589","svg_p:path3317","svg_p:path3163-2","svg_p:path3049"]],draw_name:[["svg_p:path3319"]]};sim_signals.T7={name:"T7",visible:true,type:"L",value:0,default_value:0,nbits:"1",behavior:["NOP","MV BUS_IB REG_RT3; FIRE M7; FIRE M2; FIRE M1"],fire_name:["svg_p:text3459"],draw_data:[["svg_p:path3327","svg_p:path3311","svg_p:path3049"]],draw_name:[["svg_p:path3313"]]};sim_signals.T8={name:"T8",visible:true,type:"L",value:0,default_value:0,nbits:"1",behavior:["NOP","MV BUS_IB REG_SR; FIRE M7; FIRE M2; FIRE M1"],fire_name:["svg_p:text3657"],draw_data:[["svg_p:path3651","svg_p:path3647","svg_p:path3049"]],draw_name:[["svg_p:path3649"]]};sim_signals.T9={name:"T9",visible:true,type:"L",value:0,default_value:0,nbits:"1",behavior:["NOP","MV BUS_IB RA_T9; FIRE M7; FIRE M2; FIRE M1"],fire_name:["svg_p:text3147"],draw_data:[["svg_p:path3143","svg_p:path3139","svg_p:path3049","svg_p:path3143-9"]],draw_name:[["svg_p:path3133"]]};sim_signals.T10={name:"T10",visible:true,type:"L",value:0,default_value:0,nbits:"1",behavior:["NOP","MV BUS_IB RB_T10; FIRE M7; FIRE M2; FIRE M1"],fire_name:["svg_p:text3149"],draw_data:[["svg_p:path3145","svg_p:path3141","svg_p:path3049","svg_p:path3145-5"]],draw_name:[["svg_p:path3137"]]};sim_signals.T11={name:"T11",visible:true,type:"L",value:0,default_value:0,nbits:"1",behavior:["NOP","MV BUS_IB REG_MICROINS/EXCODE; FIRE M7; FIRE M2; FIRE M1"],fire_name:["svg_p:text3147-5","svg_cu:tspan4426"],draw_data:[["svg_p:path3145","svg_p:path3081-3","svg_p:path3139-7","svg_p:path3049","svg_cu:path3081-3","svg_cu:path3139-7","svg_cu:path3502"]],draw_name:[["svg_p:path3133-6","svg_cu:path3133-6"]]};sim_signals.M1={name:"M1",visible:true,type:"L",value:0,default_value:0,nbits:"1",behavior:["MV M1_C1 BUS_IB","MV M1_C1 BS_M1"],depends_on:["C1"],fire_name:["svg_p:text3469"],draw_data:[["svg_p:path3063","svg_p:path3061","svg_p:path3059"],["svg_p:path3057","svg_p:path3641","svg_p:path3419","svg_p:path3583"]],draw_name:[[],["svg_p:path3447"]]};sim_signals.M2={name:"M2",visible:true,type:"L",value:0,default_value:0,nbits:"1",behavior:["MV M2_C2 BUS_IB","ADD M2_C2 REG_PC VAL_FOUR"],depends_on:["C2"],fire_name:["svg_p:text3471"],draw_data:[["svg_p:path3217","svg_p:path3215","svg_p:path3213","svg_p:path3213-9"],["svg_p:path3211","svg_p:path3209","svg_p:path3193","svg_p:path3207","svg_p:path3197","svg_p:path3201"]],draw_name:[[],["svg_p:path3467","svg_p:path3467"]]};sim_signals.M7={name:"M7",visible:true,type:"L",value:0,default_value:0,nbits:"1",behavior:["MV M7_C7 BUS_IB","MV M7_C7 SELP_M7"],depends_on:["C7"],fire_name:["svg_p:text3673"],draw_data:[["svg_p:path3691","svg_p:path3693","svg_p:path3659"],["svg_p:path3695"]],draw_name:[[],["svg_p:path3667"]]};sim_signals.MA={name:"MA",visible:true,type:"L",value:0,default_value:0,nbits:"1",behavior:["MV MA_ALU RA_T9; FIRE COP","MV MA_ALU REG_RT1; FIRE COP"],depends_on:["SELA","SELB","SELC"],fire_name:["svg_p:text3463"],draw_data:[["svg_p:path3249","svg_p:path3161","svg_p:path3165"],["svg_p:path3279"]],draw_name:[[],["svg_p:path3423"]]};sim_signals.MB={name:"MB",visible:true,type:"L",value:0,default_value:0,nbits:"2",behavior:["MV MB_ALU RB_T10; FIRE COP","MV MB_ALU REG_RT2; FIRE COP","MV MB_ALU VAL_FOUR; FIRE COP","MV MB_ALU VAL_ONE; FIRE COP"],depends_on:["SELA","SELB","SELC"],fire_name:["svg_p:text3465"],draw_data:[["svg_p:path3281","svg_p:path3171","svg_p:path3169"],["svg_p:path3283"],["svg_p:path3295","svg_p:path3293"],["svg_p:path3297","svg_p:path3299"]],draw_name:[[],["svg_p:path3425","svg_p:path3427"]]};sim_signals.COP={name:"COP",visible:true,type:"L",value:0,default_value:0,nbits:"4",forbidden:true,behavior:["NOP_ALU","AND ALU_C6 MA_ALU MB_ALU; FIRE_IFSET T6 1; FIRE_IFSET SELP 3","OR ALU_C6 MA_ALU MB_ALU; FIRE_IFSET T6 1; FIRE_IFSET SELP 3","NOT ALU_C6 MA_ALU; FIRE_IFSET T6 1; FIRE_IFSET SELP 3","XOR ALU_C6 MA_ALU MB_ALU; FIRE_IFSET T6 1; FIRE_IFSET SELP 3","SRL ALU_C6 MA_ALU; FIRE_IFSET T6 1; FIRE_IFSET SELP 3","SRA ALU_C6 MA_ALU; FIRE_IFSET T6 1; FIRE_IFSET SELP 3","SL ALU_C6 MA_ALU; FIRE_IFSET T6 1; FIRE_IFSET SELP 3","RR ALU_C6 MA_ALU; FIRE_IFSET T6 1; FIRE_IFSET SELP 3","RL ALU_C6 MA_ALU; FIRE_IFSET T6 1; FIRE_IFSET SELP 3","ADD ALU_C6 MA_ALU MB_ALU; FIRE_IFSET T6 1; FIRE_IFSET SELP 3","SUB ALU_C6 MA_ALU MB_ALU; FIRE_IFSET T6 1; FIRE_IFSET SELP 3","MUL ALU_C6 MA_ALU MB_ALU; FIRE_IFSET T6 1; FIRE_IFSET SELP 3","DIV ALU_C6 MA_ALU MB_ALU; FIRE_IFSET T6 1; FIRE_IFSET SELP 3","MOD ALU_C6 MA_ALU MB_ALU; FIRE_IFSET T6 1; FIRE_IFSET SELP 3","LUI ALU_C6 MA_ALU; FIRE_IFSET T6 1; FIRE_IFSET SELP 3"],depends_on:["SELCOP"],fire_name:["svg_p:text3303"],draw_data:[["svg_p:path3237","svg_p:path3239","svg_p:path3261-8","svg_p:path3321","svg_p:path3901-6","svg_p:path3317-9"]],draw_name:[["svg_p:path3009","svg_p:path3301"]]};sim_signals.SELP={name:"SELP",visible:true,type:"L",value:0,default_value:0,nbits:"2",behavior:["NOP","MV SELP_M7 REG_SR; SBIT SELP_M7 FLAG_U 0; FIRE M7","MV SELP_M7 REG_SR; SBIT SELP_M7 FLAG_I 1; FIRE M7","MV SELP_M7 REG_SR; SBIT SELP_M7 FLAG_C 31; SBIT SELP_M7 FLAG_V 30; SBIT SELP_M7 FLAG_N 29; SBIT SELP_M7 FLAG_Z 28; FIRE M7"],fire_name:["svg_p:text3703"],draw_data:[[],["svg_p:path3643"],["svg_p:path3705"],["svg_p:path3675","svg_p:path3331"]],draw_name:[[],["svg_p:path3697"]]};sim_signals.SELA={name:"SELA",visible:true,type:"L",value:0,default_value:0,nbits:"5",behavior:["FIRE_IFCHANGED MR_RA SELA; RESET_CHANGED SELA"],depends_on:["RA"],fire_name:["svg_cu:text3164"],draw_data:[[]],draw_name:[[]]};sim_signals.SELB={name:"SELB",visible:true,type:"L",value:0,default_value:0,nbits:"5",behavior:["FIRE_IFCHANGED MR_RB SELB; RESET_CHANGED SELB"],depends_on:["RB"],fire_name:["svg_cu:text3168"],draw_data:[[]],draw_name:[[]]};sim_signals.SELC={name:"SELC",visible:true,type:"L",value:0,default_value:0,nbits:"5",behavior:["FIRE_IFCHANGED MR_RC SELC; RESET_CHANGED SELC"],depends_on:["RC"],fire_name:["svg_cu:text3172"],draw_data:[[]],draw_name:[[]]};sim_signals.SELCOP={name:"SELCOP",visible:true,type:"L",value:0,default_value:0,nbits:"4",behavior:["FIRE_IFCHANGED MC SELCOP; RESET_CHANGED SELCOP"],depends_on:["COP"],fire_name:["svg_cu:text3312"],draw_data:[[]],draw_name:[[]]};sim_signals.EXCODE={name:"EXCODE",visible:true,type:"L",value:0,default_value:0,nbits:"4",behavior:["FIRE T11"],fire_name:["svg_cu:text3312-6"],draw_data:[[]],draw_name:[[]]};sim_signals.RA={name:"RA",visible:true,type:"L",value:0,default_value:0,nbits:"5",forbidden:true,behavior:["GET RA_T9 BR RA; FIRE_IFSET T9 1; FIRE_IFSET MA 0"],depends_on:["SELA"],fire_name:["svg_p:text3107"],draw_data:[[]],draw_name:[["svg_p:path3109"]]};sim_signals.RB={name:"RB",visible:true,type:"L",value:0,default_value:0,nbits:"5",forbidden:true,behavior:["GET RB_T10 BR RB; FIRE_IFSET T10 1; FIRE_IFSET MB 0"],depends_on:["SELB"],fire_name:["svg_p:text3123"],draw_data:[[]],draw_name:[["svg_p:path3113"]]};sim_signals.RC={name:"RC",visible:true,type:"L",value:0,default_value:0,nbits:"5",forbidden:true,behavior:["FIRE LC"],depends_on:["SELC"],fire_name:["svg_p:text3125"],draw_data:[[]],draw_name:[["svg_p:path3117"]]};sim_signals.LC={name:"LC",visible:true,type:"E",value:0,default_value:0,nbits:"1",behavior:["NOP","SET BR RC BUS_IB"],fire_name:["svg_p:text3127"],draw_data:[["svg_p:path3153","svg_p:path3151","svg_p:path3129"]],draw_name:[["svg_p:path3121"]]};sim_signals.SE={name:"SE",visible:true,type:"L",value:0,default_value:0,nbits:"1",behavior:["MBITS SELEC_T3 0 REG_IR OFFSET SIZE 0 SE; FIRE T3; MOVE_BITS SBWA 4 1 SE; FIRE_IFCHANGED SBWA SE","MBITS SELEC_T3 0 REG_IR OFFSET SIZE 0 SE; FIRE T3; MOVE_BITS SBWA 4 1 SE; FIRE_IFCHANGED SBWA SE"],depends_on:["T3"],fire_name:["svg_p:text3593","svg_p:text3431"],draw_data:[[]],draw_name:[["svg_p:path3591","svg_p:path3447-7-7"]]};sim_signals.SIZE={name:"SIZE",visible:true,type:"L",value:0,default_value:0,nbits:"5",behavior:["MBITS SELEC_T3 0 REG_IR OFFSET SIZE 0 SE; FIRE T3"],depends_on:["T3"],fire_name:["svg_p:text3363"],draw_data:[[]],draw_name:[["svg_p:path3355"]]};sim_signals.OFFSET={name:"OFFSET",visible:true,type:"L",value:0,default_value:0,nbits:"5",behavior:["MBITS SELEC_T3 0 REG_IR OFFSET SIZE 0 SE; FIRE T3"],depends_on:["T3"],fire_name:["svg_p:text3707"],draw_data:[[]],draw_name:[["svg_p:path3359"]]};sim_signals.MC={name:"MC",visible:true,type:"L",value:0,default_value:0,nbits:"1",behavior:["MBIT COP REG_IR 0 4; FIRE_IFCHANGED COP MC","MV COP REG_MICROINS/SELCOP; FIRE_IFCHANGED COP MC"],depends_on:["SELCOP"],fire_name:["svg_cu:text3322","svg_cu:text3172-1-5"],draw_data:[["svg_cu:path3320","svg_cu:path3142"],["svg_cu:path3318","svg_cu:path3502-6","svg_cu:path3232-6"]],draw_name:[[],["svg_cu:path3306"]]};sim_signals.MR={name:"MR",visible:true,type:"L",value:0,default_value:0,nbits:"1",behavior:["MV MR_RA MR; FIRE_IFCHANGED MR_RA MR; MV MR_RB MR; FIRE_IFCHANGED MR_RB MR; MV MR_RC MR; FIRE_IFCHANGED MR_RC MR; RESET_CHANGED MR"],depends_on:["SELA","SELB","SELC"],fire_name:["svg_cu:text3222","svg_cu:text3242","svg_cu:text3254","svg_cu:text3172-1"],draw_data:[["svg_cu:path3494","svg_cu:path3492","svg_cu:path3490","svg_cu:path3142b","svg_cu:path3188","svg_cu:path3190","svg_cu:path3192","svg_cu:path3194","svg_cu:path3276","svg_cu:path3290","svg_cu:path3260","svg_cu:path3196","svg_cu:path3502","svg_cu:path3278","svg_cu:path3232","svg_cu:path3292"],["svg_cu:path3270","svg_cu:path3282","svg_cu:path3300","svg_cu:path3258","svg_cu:path3260","svg_cu:path3278","svg_cu:path3196","svg_cu:path3502","svg_cu:path3294","svg_cu:path3292","svg_cu:path3288","svg_cu:path3232","svg_cu:path3280"]],draw_name:[[],["svg_cu:path3220","svg_cu:path3240","svg_cu:path3252"]]};sim_signals.MR_RA={name:"MR_RA",visible:true,type:"L",value:0,default_value:0,nbits:"1",behavior:["MBIT_SN RA REG_IR REG_MICROINS/SELA 5; FIRE RA;","MV RA REG_MICROINS/SELA; FIRE RA;"],fire_name:[],draw_data:[[]],draw_name:[[]]};sim_signals.MR_RB={name:"MR_RB",visible:true,type:"L",value:0,default_value:0,nbits:"1",behavior:["MBIT_SN RB REG_IR REG_MICROINS/SELB 5; FIRE RB;","MV RB REG_MICROINS/SELB; FIRE RB;"],fire_name:[],draw_data:[[]],draw_name:[[]]};sim_signals.MR_RC={name:"MR_RC",visible:true,type:"L",value:0,default_value:0,nbits:"1",behavior:["MBIT_SN RC REG_IR REG_MICROINS/SELC 5; FIRE RC;","MV RC REG_MICROINS/SELC; FIRE RC;"],fire_name:[],draw_data:[[]],draw_name:[[]]};sim_signals.BW={name:"BW",visible:true,type:"L",value:0,default_value:0,nbits:"2",behavior:["MOVE_BITS BWA 2 2 BW; MOVE_BITS SBWA 2 2 BW; FIRE_IFCHANGED BWA BW; FIRE SBWA; RESET_CHANGED BW","MOVE_BITS BWA 2 2 BW; MOVE_BITS SBWA 2 2 BW; FIRE_IFCHANGED BWA BW; FIRE SBWA; RESET_CHANGED BW","MOVE_BITS BWA 2 2 BW; MOVE_BITS SBWA 2 2 BW; FIRE_IFCHANGED BWA BW; FIRE SBWA; RESET_CHANGED BW","MOVE_BITS BWA 2 2 BW; MOVE_BITS SBWA 2 2 BW; FIRE_IFCHANGED BWA BW; FIRE SBWA; RESET_CHANGED BW"],fire_name:["svg_p:text3433"],draw_data:[["svg_p:path3061-2-6","svg_p:path3101-8","svg_p:path3535-8"]],draw_name:[[],[]]};sim_signals.A1A0={name:"A1A0",visible:true,type:"L",value:0,default_value:0,nbits:"2",behavior:["MOVE_BITS BWA 0 2 A1A0; MOVE_BITS SBWA 0 2 A1A0; FIRE BWA; FIRE SBWA","MOVE_BITS BWA 0 2 A1A0; MOVE_BITS SBWA 0 2 A1A0; FIRE BWA; FIRE SBWA","MOVE_BITS BWA 0 2 A1A0; MOVE_BITS SBWA 0 2 A1A0; FIRE BWA; FIRE SBWA","MOVE_BITS BWA 0 2 A1A0; MOVE_BITS SBWA 0 2 A1A0; FIRE BWA; FIRE SBWA"],fire_name:["svg_p:text3603"],draw_data:[[],[]],draw_name:[[],[]]};sim_signals.BWA={name:"BWA",visible:false,type:"L",value:0,default_value:0,nbits:"4",behavior:["BSEL BS_TD 0 8 REG_MBR 0; FIRE TD; FIRE R; FIRE W","BSEL BS_TD 8 8 REG_MBR 0; FIRE TD; FIRE R; FIRE W","BSEL BS_TD 16 8 REG_MBR 0; FIRE TD; FIRE R; FIRE W","BSEL BS_TD 24 8 REG_MBR 0; FIRE TD; FIRE R; FIRE W","BSEL BS_TD 0 16 REG_MBR 0; FIRE TD; FIRE R; FIRE W","BSEL BS_TD 0 16 REG_MBR 0; FIRE TD; FIRE R; FIRE W","BSEL BS_TD 0 16 REG_MBR 0; FIRE TD; FIRE R; FIRE W","BSEL BS_TD 0 16 REG_MBR 0; FIRE TD; FIRE R; FIRE W","BSEL BS_TD 16 16 REG_MBR 0; FIRE TD; FIRE R; FIRE W","BSEL BS_TD 16 16 REG_MBR 0; FIRE TD; FIRE R; FIRE W","BSEL BS_TD 16 16 REG_MBR 0; FIRE TD; FIRE R; FIRE W","BSEL BS_TD 16 16 REG_MBR 0; FIRE TD; FIRE R; FIRE W","MV BS_TD REG_MBR; FIRE TD; FIRE R; FIRE W","MV BS_TD REG_MBR; FIRE TD; FIRE R; FIRE W","MV BS_TD REG_MBR; FIRE TD; FIRE R; FIRE W","MV BS_TD REG_MBR; FIRE TD; FIRE R; FIRE W"],fire_name:["svg_p:text3533-5"],draw_data:[[],[]],draw_name:[[],[]]};sim_signals.SBWA={name:"SBWA",visible:false,type:"L",value:0,default_value:0,nbits:"5",behavior:["BSEL BS_M1 0 8 BUS_DB 0; FIRE M1","BSEL BS_M1 0 8 BUS_DB 8; FIRE M1","BSEL BS_M1 0 8 BUS_DB 16; FIRE M1","BSEL BS_M1 0 8 BUS_DB 24; FIRE M1","BSEL BS_M1 0 16 BUS_DB 0; FIRE M1","BSEL BS_M1 0 16 BUS_DB 0; FIRE M1","BSEL BS_M1 0 16 BUS_DB 0; FIRE M1","BSEL BS_M1 0 16 BUS_DB 0; FIRE M1","BSEL BS_M1 0 16 BUS_DB 16; FIRE M1","BSEL BS_M1 0 16 BUS_DB 16; FIRE M1","BSEL BS_M1 0 16 BUS_DB 16; FIRE M1","BSEL BS_M1 0 16 BUS_DB 16; FIRE M1","MV BS_M1 BUS_DB; FIRE M1","MV BS_M1 BUS_DB; FIRE M1","MV BS_M1 BUS_DB; FIRE M1","MV BS_M1 BUS_DB; FIRE M1","BSEL BS_M1 0 8 BUS_DB 0; EXT_SIG BS_M1 7; FIRE M1","BSEL BS_M1 0 8 BUS_DB 8; EXT_SIG BS_M1 7; FIRE M1","BSEL BS_M1 0 8 BUS_DB 16; EXT_SIG BS_M1 7; FIRE M1","BSEL BS_M1 0 8 BUS_DB 24; EXT_SIG BS_M1 7; FIRE M1","BSEL BS_M1 0 16 BUS_DB 0; EXT_SIG BS_M1 15; FIRE M1","BSEL BS_M1 0 16 BUS_DB 0; EXT_SIG BS_M1 15; FIRE M1","BSEL BS_M1 0 16 BUS_DB 0; EXT_SIG BS_M1 15; FIRE M1","BSEL BS_M1 0 16 BUS_DB 0; EXT_SIG BS_M1 15; FIRE M1","BSEL BS_M1 0 16 BUS_DB 16; EXT_SIG BS_M1 15; FIRE M1","BSEL BS_M1 0 16 BUS_DB 16; EXT_SIG BS_M1 15; FIRE M1","BSEL BS_M1 0 16 BUS_DB 16; EXT_SIG BS_M1 15; FIRE M1","BSEL BS_M1 0 16 BUS_DB 16; EXT_SIG BS_M1 15; FIRE M1","MV BS_M1 BUS_DB; FIRE M1","MV BS_M1 BUS_DB; FIRE M1","MV BS_M1 BUS_DB; FIRE M1","MV BS_M1 BUS_DB; FIRE M1"],fire_name:[],draw_data:[[],[]],draw_name:[[],[]]};sim_signals.IOR={name:"IOR",visible:true,type:"L",value:0,default_value:0,nbits:"1",behavior:["NOP","MOVE_BITS KBD_IOR 0 1 IOR; MOVE_BITS SCR_IOR 0 1 IOR; FIRE KBD_IOR; FIRE SCR_IOR"],fire_name:["svg_p:text3715"],draw_data:[[],["svg_p:path3733","svg_p:path3493","svg_p:text3715","svg_p:path3493"]],draw_name:[[],[]]};sim_signals.IOW={name:"IOW",visible:true,type:"L",value:0,default_value:0,nbits:"1",behavior:["NOP","MOVE_BITS SCR_IOW 0 1 IOW; FIRE SCR_IOW; MOVE_BITS IO_IOW 0 1 IOW; FIRE IO_IOW;"],fire_name:["svg_p:text3715"],draw_data:[[],["svg_p:path3735","svg_p:path3493","svg_p:text3717","svg_p:path3493"]],draw_name:[[],[]]};sim_signals.TEST_C={name:"TEST_C",visible:true,type:"L",value:0,default_value:0,nbits:"1",forbidden:true,behavior:["MV FLAG_C VAL_ZERO; FIRE_IFSET SELP 2","MV FLAG_C VAL_ONE; FIRE_IFSET SELP 3"],depends_on:["SELCOP"],fire_name:["svg_p:text3701-3"],draw_data:[["svg_p:text3701-3"]],draw_name:[[]]};sim_signals.TEST_V={name:"TEST_V",visible:true,type:"L",value:0,default_value:0,nbits:"1",forbidden:true,behavior:["MV FLAG_V VAL_ZERO; FIRE_IFSET SELP 2","MV FLAG_V VAL_ONE; FIRE_IFSET SELP 3"],depends_on:["SELCOP"],fire_name:["svg_p:text3701-3-1"],draw_data:[["svg_p:text3701-3-1"]],draw_name:[[]]};sim_signals.TEST_N={name:"TEST_N",visible:true,type:"L",value:0,default_value:0,nbits:"1",forbidden:true,behavior:["MV FLAG_N VAL_ZERO; FIRE_IFSET SELP 2","MV FLAG_N VAL_ONE; FIRE_IFSET SELP 3"],depends_on:["SELCOP"],fire_name:["svg_p:text3701-3-2"],draw_data:[["svg_p:text3701-3-2"]],draw_name:[[]]};sim_signals.TEST_Z={name:"TEST_Z",visible:true,type:"L",value:0,default_value:0,nbits:"1",forbidden:true,behavior:["MV FLAG_Z VAL_ZERO; FIRE_IFSET SELP 2","MV FLAG_Z VAL_ONE; FIRE_IFSET SELP 3"],depends_on:["SELCOP"],fire_name:["svg_p:text3701-3-5"],draw_data:[["svg_p:text3701-3-5"]],draw_name:[[]]};sim_signals.TEST_I={name:"TEST_I",visible:true,type:"L",value:0,default_value:0,nbits:"1",forbidden:true,behavior:["MV FLAG_I VAL_ZERO; FIRE_IFSET SELP 2","MV FLAG_I VAL_ONE; FIRE_IFSET SELP 2"],depends_on:["CLK"],fire_name:["svg_p:text3669"],draw_data:[["svg_p:text3669"]],draw_name:[[]]};sim_signals.TEST_U={name:"TEST_U",visible:true,type:"L",value:0,default_value:0,nbits:"1",forbidden:true,behavior:["MV FLAG_U VAL_ZERO; FIRE_IFSET SELP 1","MV FLAG_U VAL_ONE; FIRE_IFSET SELP 1"],depends_on:["CLK"],fire_name:["svg_p:text3669-1"],draw_data:[["svg_p:text3669-1"]],draw_name:[[]]};sim_signals.TEST_INTV={name:"TEST_INTV",visible:true,type:"L",value:0,default_value:0,nbits:"8",forbidden:true,behavior:["MBIT INTV TEST_INTV 0 32"],depends_on:["INT"],fire_name:["svg_p:tspan4225"],draw_data:[["svg_p:path3749"]],draw_name:[[]]};syntax_behavior.NOP={nparameters:1,operation:function(a){}};syntax_behavior.NOP_ALU={nparameters:1,operation:function(a){update_nzvc(0,0,0,0)}};syntax_behavior.MV={nparameters:3,types:["X","X"],operation:function(a){r=a[2].split("/");sim_elto_dst=get_reference(a[1]);sim_elto_org=get_reference(r[0]);newval=get_value(sim_elto_org);if(1!=r.length){newval=newval[r[1]]}if(typeof newval!="undefined"){set_value(sim_elto_dst,newval)}}};syntax_behavior.NOT_ES={nparameters:3,types:["S","E"],operation:function(a){set_value(sim_signals[a[1]],Math.abs(get_value(sim_states[a[2]])-1))}};syntax_behavior.GET={nparameters:4,types:["E","E","S"],operation:function(a){set_value(sim_states[a[1]],get_value(sim_states[a[2]][sim_signals[a[3]].value]))}};syntax_behavior.SET={nparameters:4,types:["E","S","E"],operation:function(a){set_value(sim_states[a[1]][sim_signals[a[2]].value],get_value(sim_states[a[3]]))}};syntax_behavior.AND={nparameters:4,types:["E","E","E"],operation:function(b){var a=get_value(sim_states[b[2]])&get_value(sim_states[b[3]]);set_value(sim_states[b[1]],a);update_nzvc((a<0)?1:0,(a==0)?1:0,0,0)}};syntax_behavior.OR={nparameters:4,types:["E","E","E"],operation:function(b){var a=get_value(sim_states[b[2]])|get_value(sim_states[b[3]]);set_value(sim_states[b[1]],a);update_nzvc((a<0)?1:0,(a==0)?1:0,0,0)}};syntax_behavior.NOT={nparameters:3,types:["E","E"],operation:function(b){var a=~(get_value(sim_states[b[2]]));set_value(sim_states[b[1]],a);update_nzvc((a<0)?1:0,(a==0)?1:0,0,0)}};syntax_behavior.XOR={nparameters:4,types:["E","E","E"],operation:function(b){var a=get_value(sim_states[b[2]])^get_value(sim_states[b[3]]);set_value(sim_states[b[1]],a);update_nzvc((a<0)?1:0,(a==0)?1:0,0,0)}};syntax_behavior.SRL={nparameters:3,types:["E","E"],operation:function(b){var a=(get_value(sim_states[b[2]]))>>>1;set_value(sim_states[b[1]],a);update_nzvc((a<0)?1:0,(a==0)?1:0,0,0)}};syntax_behavior.SRA={nparameters:3,types:["E","E"],operation:function(b){var a=(get_value(sim_states[b[2]]))>>1;set_value(sim_states[b[1]],a);update_nzvc((a<0)?1:0,(a==0)?1:0,0,0)}};syntax_behavior.SL={nparameters:3,types:["E","E"],operation:function(b){var a=(get_value(sim_states[b[2]]))<<1;set_value(sim_states[b[1]],a);update_nzvc((a<0)?1:0,(a==0)?1:0,0,(a)>>31)}};syntax_behavior.RR={nparameters:3,types:["E","E"],operation:function(b){var a=((get_value(sim_states[b[2]]))>>>1)|(((get_value(sim_states[b[2]]))&1)<<31);set_value(sim_states[b[1]],a);update_nzvc((a<0)?1:0,(a==0)?1:0,0,0)}};syntax_behavior.RL={nparameters:3,types:["E","E"],operation:function(b){var a=((get_value(sim_states[b[2]]))<<1)|(((get_value(sim_states[b[2]]))&2147483648)>>>31);set_value(sim_states[b[1]],a);update_nzvc((a<0)?1:0,(a==0)?1:0,0,0)}};syntax_behavior.ADD={nparameters:4,types:["E","E","E"],operation:function(i){var h=get_value(sim_states[i[2]])<<0;var e=get_value(sim_states[i[3]])<<0;var d=h+e;set_value(sim_states[i[1]],d>>>0);var g=(d<0)?1:0;var c=(d==0)?1:0;var f=(h>>>31)&&(e>>>31);var j=0;if((d<0)&&(h>=0)&&(e>=0)){j=1}if((d>=0)&&(h<0)&&(e<0)){j=1}update_nzvc(g,c,j,f)}};syntax_behavior.SUB={nparameters:4,types:["E","E","E"],operation:function(i){var h=get_value(sim_states[i[2]])<<0;var e=get_value(sim_states[i[3]])<<0;var d=h-e;set_value(sim_states[i[1]],d>>>0);var g=(d<0)?1:0;var c=(d==0)?1:0;var f=(h>>>31)&&(e>>>31);var j=0;if((d<0)&&(h>=0)&&(e>=0)){j=1}if((d>=0)&&(h<0)&&(e<0)){j=1}update_nzvc(g,c,j,f)}};syntax_behavior.MUL={nparameters:4,types:["E","E","E"],operation:function(i){var h=get_value(sim_states[i[2]])<<0;var e=get_value(sim_states[i[3]])<<0;var d=h*e;set_value(sim_states[i[1]],d>>>0);var g=(d<0)?1:0;var c=(d==0)?1:0;var f=0;var j=0;if((d<0)&&(h>=0)&&(e>=0)){j=1}if((d>=0)&&(h<0)&&(e<0)){j=1}update_nzvc(g,c,j,f)}};syntax_behavior.DIV={nparameters:4,types:["E","E","E"],operation:function(f){var e=(get_value(sim_states[f[2]])<<0);var d=(get_value(sim_states[f[3]])<<0);if(0==d){set_value(sim_states[f[1]],0);update_nzvc(0,1,1,0);return}var c=Math.floor(e/d);set_value(sim_states[f[1]],c);update_nzvc((c<0)?1:0,(c==0)?1:0,0,0)}};syntax_behavior.MOD={nparameters:4,types:["E","E","E"],operation:function(b){var a=(get_value(sim_states[b[2]])<<0)%(get_value(sim_states[b[3]])<<0);set_value(sim_states[b[1]],a);update_nzvc((a<0)?1:0,(a==0)?1:0,0,0)}};syntax_behavior.LUI={nparameters:3,types:["E","E"],operation:function(b){var a=(get_value(sim_states[b[2]]))<<16;set_value(sim_states[b[1]],a);update_nzvc((a<0)?1:0,(a==0)?1:0,0,0)}};syntax_behavior.MBIT={nparameters:5,types:["X","X","I","I"],operation:function(a){sim_elto_org=get_reference(a[2]);sim_elto_dst=get_reference(a[1]);var e=parseInt(a[3]);var c=parseInt(a[4]);var d=get_value(sim_elto_org).toString(2);var b="00000000000000000000000000000000".substring(0,32-d.length)+d;b=b.substr(31-(e+c-1),c);set_value(sim_elto_dst,parseInt(b,2))}};syntax_behavior.MBIT_SN={nparameters:5,types:["S","E","E","I"],operation:function(b){var f=0;var e=b[3].split("/");if(1==e.length){f=get_value(sim_states[b[3]])}else{if(typeof sim_states[e[0]].value[e[1]]!="undefined"){f=sim_states[e[0]].value[e[1]]}else{if(typeof sim_signals[e[1]].default_value!="undefined"){f=sim_signals[e[1]].default_value}else{if(typeof sim_states[e[1]].default_value!="undefined"){f=sim_states[e[1]].default_value}else{alert("WARN: undefined state/field pair -> "+e[0]+"/"+e[1])}}}}var g=parseInt(b[4]);var d=get_value(sim_states[b[2]]).toString(2);var c="00000000000000000000000000000000".substring(0,32-d.length)+d;var a=c.substr(31-(f+g-1),g);set_value(sim_signals[b[1]],parseInt(a,2))}};syntax_behavior.SBIT={nparameters:4,types:["X","X","I"],operation:function(a){sim_elto_org=get_reference(a[2]);sim_elto_dst=get_reference(a[1]);var b=(sim_elto_dst.value&~(1<<a[3]))|(sim_elto_org.value<<a[3]);set_value(sim_elto_dst,(b>>>0))}};syntax_behavior.MBITS={nparameters:8,types:["E","I","E","S","S","I","S"],operation:function(b){var f=parseInt(sim_signals[b[4]].value);var d=parseInt(sim_signals[b[5]].value);var e=get_value(sim_states[b[3]]).toString(2);var c=("00000000000000000000000000000000".substring(0,32-e.length)+e);c=c.substr(31-(f+d-1),d);var a="00000000000000000000000000000000".substring(0,32-c.length)+c;if(("1"==sim_signals[b[7]].value)&&("1"==c.substr(0,1))){a="11111111111111111111111111111111".substring(0,32-c.length)+c}set_value(sim_states[b[1]],parseInt(a,2))}};syntax_behavior.BSEL={nparameters:6,types:["E","I","I","E","I"],operation:function(d){var h=parseInt(d[2]);var g=parseInt(d[5]);var a=parseInt(d[3]);var f=get_value(sim_states[d[4]]).toString(2);var e="00000000000000000000000000000000".substring(0,32-f.length)+f;e=e.substr(31-(g+a)+1,a);var c="00000000000000000000000000000000".substring(0,32-e.length)+e;var b="00000000000000000000000000000000".substr(0,h);c=c+b;set_value(sim_states[d[1]],parseInt(c,2))}};syntax_behavior.EXT_SIG={nparameters:3,types:["E","I"],operation:function(c){var e=get_value(sim_states[c[1]]).toString(2);var d=("00000000000000000000000000000000".substring(0,32-e.length)+e);var b=d.substr(31-c[2],31);var a=b;if("1"==d[31-c[2]]){a="11111111111111111111111111111111".substring(0,32-b.length)+a}set_value(sim_states[c[1]],parseInt(a,2))}};syntax_behavior.MOVE_BITS={nparameters:5,types:["S","I","I","S"],operation:function(g){var c=parseInt(g[2]);var a=0;var e=parseInt(g[3]);var f=sim_signals[g[4]].value.toString(2);f=("00000000000000000000000000000000".substring(0,32-f.length)+f);f=f.substr(31-a-e+1,e);var d=sim_signals[g[1]].value.toString(2);d=("00000000000000000000000000000000".substring(0,32-d.length)+d);var i=d.substr(0,32-(c+e));var h=d.substr(31-c+1,c);var b=i+f+h;set_value(sim_signals[g[1]],parseInt(b,2))}};syntax_behavior.MOVE_BITSE={nparameters:6,types:["S","I","I","E","I"],operation:function(g){var c=parseInt(g[2]);var a=parseInt(g[5]);var e=parseInt(g[3]);var f=get_value(sim_states[g[4]]).toString(2);f=("00000000000000000000000000000000".substring(0,32-f.length)+f);f=f.substr(31-a-e+1,e);var d=sim_signals[g[1]].value.toString(2);d=("00000000000000000000000000000000".substring(0,32-d.length)+d);var i=d.substr(0,32-(c+e));var h=d.substr(31-c+1,c);var b=i+f+h;set_value(sim_signals[g[1]],parseInt(b,2))}};syntax_behavior.DECO={nparameters:1,operation:function(h){var i=get_value(sim_states.REG_IR).toString(2);i="00000000000000000000000000000000".substring(0,32-i.length)+i;var b=parseInt(i.substr(0,6),2);var d=parseInt(i.substr(28,4),2);sim_states.INEX.value=0;var g=decode_instruction(i);if(null==g){alert("ERROR: undefined instruction code in firmware (co:"+b.toString(2)+", cop:"+d.toString(2)+")");sim_states.ROM_MUXA.value=0;sim_states.INEX.value=1;return -1}var c=b<<6;if(typeof g.cop!="undefined"){c=c+d}if(typeof ROM[c]=="undefined"){alert("ERROR: undefined rom address "+c+" in firmware");sim_states.ROM_MUXA.value=0;return -1}sim_states.ROM_MUXA.value=ROM[c];var a=get_value(sim_states.DECO_INS);set_value(sim_states.DECO_INS,a+1);var f=get_value(sim_states.REG_PC)-4;var e=get_deco_from_pc(f);set_value(sim_states.REG_IR_DECO,e);show_dbg_ir(get_value(sim_states.REG_IR_DECO))}};syntax_behavior.FIRE={nparameters:2,types:["S"],operation:function(a){if(fire_stack.indexOf(a[1])!=-1){return}fire_stack.push(a[1]);update_draw(sim_signals[a[1]],sim_signals[a[1]].value);if("L"==sim_signals[a[1]].type){update_state(a[1])}fire_stack.pop(a[1]);check_buses(a[1])}};syntax_behavior.FIRE_IFSET={nparameters:3,types:["S","I"],operation:function(a){if(get_value(sim_signals[a[1]])!=parseInt(a[2])){return}syntax_behavior.FIRE.operation(a)}};syntax_behavior.FIRE_IFCHANGED={nparameters:3,types:["S","X"],operation:function(a){sim_elto=get_reference(a[2]);if(sim_elto.changed==false){return}syntax_behavior.FIRE.operation(a)}};syntax_behavior.RESET_CHANGED={nparameters:2,types:["X"],operation:function(a){sim_elto=get_reference(a[1]);sim_elto.changed=false}};syntax_behavior.CLOCK={nparameters:1,operation:function(s_expr){var val=get_value(sim_states.CLK);set_value(sim_states.CLK,val+1);for(var i=0;i<jit_fire_order.length;i++){fn_updateE_now(jit_fire_order[i])}var new_maddr=get_value(sim_states.MUXA_MICROADDR);set_value(sim_states.REG_MICROADDR,new_maddr);if(typeof MC[new_maddr]!="undefined"){var new_mins=Object.create(MC[new_maddr])}else{var new_mins=Object.create(sim_states.REG_MICROINS.default_value)}sim_states.REG_MICROINS.value=new_mins;for(var key in sim_signals){if(typeof new_mins[key]!="undefined"){set_value(sim_signals[key],new_mins[key])}else{set_value(sim_signals[key],sim_signals[key].default_value)}}for(var i=0;i<jit_fire_order.length;i++){fn_updateL_now(jit_fire_order[i])}if(typeof new_mins.NATIVE_JIT!="undefined"){new_mins.NATIVE_JIT()}else{if(typeof new_mins.NATIVE!="undefined"){eval(new_mins.NATIVE)}}}};syntax_behavior.RESET={nparameters:1,operation:function(a){for(var c in sim_states){reset_value(sim_states[c])}for(var c in sim_signals){reset_value(sim_signals[c])}sim_events.screen=new Object();sim_events.keybd=new Object();sim_events.io=new Object();sim_events.mem=new Object();for(var b=0;b<IO_INT_FACTORY.length;b++){IO_INT_FACTORY[b].accumulated(0);IO_INT_FACTORY[b].active(false)}}};syntax_behavior.UPDATEDPC={nparameters:1,operation:function(a){show_asmdbg_pc()}};sim_components.MEMORY={name:"MEMORY",version:"1",write_state:function(c){if(typeof c.MEMORY=="undefined"){c.MEMORY=new Object()}var b=0;var d=0;for(var a in MP){d=parseInt(MP[a]);if(d!=0){b=parseInt(a).toString(16);c.MEMORY["0x"+b]={type:"memory",default_value:0,id:"0x"+b,op:"=",value:"0x"+d.toString(16)}}}return c},read_state:function(c,a){if(typeof c.MEMORY=="undefined"){c.MEMORY=new Object()}var b=parseInt(a.id).toString(16);var d=parseInt(a.value).toString(16);if("MEMORY"==a.type.toUpperCase().trim()){c.MEMORY["0x"+b]={type:"memory",default_value:0,id:"0x"+b,op:a.condition,value:"0x"+d};return true}return false},get_state:function(b){var a=parseInt(b);if(typeof MP[a]!="undefined"){return"0x"+parseInt(MP[a]).toString(16)}return null}};var MP=new Object();var segments=new Object();var MP_wc=0;sim_signals.MRDY={name:"MRDY",visible:true,type:"L",value:0,default_value:0,nbits:"1",depends_on:["CLK"],behavior:["FIRE_IFCHANGED MRDY C","FIRE_IFCHANGED MRDY C"],fire_name:["svg_p:tspan3916"],draw_data:[[],["svg_p:path3895","svg_p:path3541"]],draw_name:[[],[]]};sim_signals.R={name:"R",visible:true,type:"L",value:0,default_value:0,nbits:"1",behavior:["NOP","MEM_READ BUS_AB BUS_DB BWA MRDY CLK; FIRE MRDY"],fire_name:["svg_p:text3533-5-2","svg_p:text3713"],draw_data:[[],["svg_p:path3557","svg_p:path3571"]],draw_name:[[],[]]};sim_signals.W={name:"W",visible:true,type:"L",value:0,default_value:0,nbits:"1",behavior:["NOP","MEM_WRITE BUS_AB BUS_DB BWA MRDY CLK; FIRE MRDY"],fire_name:["svg_p:text3533-5-08","svg_p:text3527","svg_p:text3431-7"],draw_data:[[],["svg_p:path3559","svg_p:path3575","svg_p:path3447-7"]],draw_name:[[],[]]};syntax_behavior.MEM_READ={nparameters:6,types:["E","E","S","S","E"],operation:function(b){var a=sim_states[b[1]].value;var c=sim_states[b[2]].value;var g=sim_signals[b[3]].value;var e=sim_states[b[5]].value();sim_signals[b[4]].value=0;var f=MP_wc();if((typeof sim_events.mem[e-1]!="undefined")&&(sim_events.mem[e-1]>0)){f=sim_events.mem[e-1]-1}sim_events.mem[e]=f;if(f>0){return}var d=0;a=a&4294967292;if(typeof MP[a]!="undefined"){d=MP[a]}if(0==(g&12)){if(0==(g&3)){c=(c&4294967040)|(d&255)}if(1==(g&3)){c=(c&4294902015)|(d&65280)}if(2==(g&3)){c=(c&4278255615)|(d&16711680)}if(3==(g&3)){c=(c&16777215)|(d&4278190080)}}else{if(1==(g&12)){if(0==(g&2)){c=(c&4294901760)|(d&65535)}if(1==(g&2)){c=(c&65535)|(d&4294901760)}}else{c=d}}sim_states[b[2]].value=(c>>>0);sim_signals[b[4]].value=1;show_main_memory(MP,a,false,false)}};syntax_behavior.MEM_WRITE={nparameters:6,types:["E","E","S","S","E"],operation:function(b){var a=sim_states[b[1]].value;var c=sim_states[b[2]].value;var g=sim_signals[b[3]].value;var e=sim_states[b[5]].value();sim_signals[b[4]].value=0;var f=MP_wc();if((typeof sim_events.mem[e-1]!="undefined")&&(sim_events.mem[e-1]>0)){f=sim_events.mem[e-1]-1}sim_events.mem[e]=f;if(f>0){return}var d=0;a=a&4294967292;if(typeof MP[a]!="undefined"){d=MP[a]}if(0==(g&12)){if(0==(g&3)){d=(d&4294967040)|(c&255)}if(1==(g&3)){d=(d&4294902015)|(c&65280)}if(2==(g&3)){d=(d&4278255615)|(c&16711680)}if(3==(g&3)){d=(d&16777215)|(c&4278190080)}}else{if(1==(g&12)){if(0==(g&2)){d=(d&4294901760)|(c&65535)}if(1==(g&2)){d=(d&65535)|(c&4294901760)}}else{d=c}}MP[a]=(d>>>0);sim_signals[b[4]].value=1;show_main_memory(MP,a,false,true)}};sim_components.IO={name:"IO",version:"1",write_state:function(a){return a},read_state:function(b,a){return false},get_state:function(a){return null}};var IO_INT_FACTORY=new Array();IO_INT_FACTORY[0]={period:0,probability:0.5,accumulated:0,active:false};IO_INT_FACTORY[1]={period:0,probability:0.5,accumulated:0,active:false};IO_INT_FACTORY[2]={period:0,probability:0.5,accumulated:0,active:false};IO_INT_FACTORY[3]={period:0,probability:0.5,accumulated:0,active:false};IO_INT_FACTORY[4]={period:0,probability:0.5,accumulated:0,active:false};IO_INT_FACTORY[5]={period:0,probability:0.5,accumulated:0,active:false};IO_INT_FACTORY[6]={period:0,probability:0.5,accumulated:0,active:false};IO_INT_FACTORY[7]={period:0,probability:0.5,accumulated:0,active:false};var IOSR_ID=4352;var IOCR_ID=4356;var IODR_ID=4360;io_hash[IOSR_ID]="IOSR";io_hash[IOCR_ID]="IOCR";io_hash[IODR_ID]="IODR";sim_states.IOSR={name:"IOSR",visible:false,nbits:"32",value:0,default_value:0,draw_data:[]};sim_states.IOCR={name:"IOCR",visible:false,nbits:"32",value:0,default_value:0,draw_data:[]};sim_states.IODR={name:"IODR",visible:false,nbits:"32",value:0,default_value:0,draw_data:[]};sim_signals.INT={name:"INT",visible:true,type:"L",value:0,default_value:0,nbits:"1",depends_on:["CLK"],behavior:["FIRE C","FIRE C"],fire_name:["svg_p:tspan4199"],draw_data:[[],["svg_p:path3809"]],draw_name:[[],[]]};sim_signals.IORDY={name:"IORDY",visible:true,type:"L",value:0,default_value:0,nbits:"1",depends_on:["CLK"],behavior:["FIRE_IFCHANGED IORDY C","FIRE_IFCHANGED IORDY C"],fire_name:["svg_p:tspan4089","svg_p:path3793"],draw_data:[[],["svg_p:path3897"]],draw_name:[[],[]]};sim_signals.IO_IOR={name:"IO_IOR",visible:true,type:"L",value:0,default_value:0,nbits:"1",behavior:["NOP","IO_IOR BUS_AB BUS_DB IOSR IOCR IODR CLK; FIRE SBWA"],fire_name:["svg_p:tspan4173","svg_p:text3715"],draw_data:[[],["svg_p:path3795","svg_p:path3733"]],draw_name:[[],[]]};sim_signals.IO_IOW={name:"IO_IOW",visible:true,type:"L",value:0,default_value:0,nbits:"1",behavior:["NOP","IO_IOW BUS_AB BUS_DB IOSR IOCR IODR CLK; FIRE SBWA"],fire_name:["svg_p:text3785-0-6-0-5-5","svg_p:text3717"],draw_data:[[],["svg_p:path3805","svg_p:path3733"]],draw_name:[[],[]]};sim_signals.IO_IE={name:"IO_IE",visible:true,type:"L",value:1,default_value:1,nbits:"1",behavior:["NOP","IO_CHK_I CLK INT INTV; FIRE C"],fire_name:[],draw_data:[[],[]],draw_name:[[],[]]};sim_signals.INTA={name:"INTA",visible:true,type:"L",value:1,default_value:0,nbits:"1",behavior:["NOP","INTA CLK INT INTA BUS_DB INTV; FIRE BW; FIRE C"],fire_name:["svg_p:text3785-0-6-0-5-5-1-1"],draw_data:[[],["svg_p:path3807","svg_p:path3737"]],draw_name:[[],[]]};syntax_behavior.IO_IOR={nparameters:7,types:["E","E","E","E","E","E"],operation:function(a){var e=sim_states[a[1]].value;var b=sim_states[a[3]].value;var c=sim_states[a[4]].value;var d=sim_states[a[5]].value;if(e==IOSR_ID){set_value(sim_states[a[2]],b)}if(e==IOCR_ID){set_value(sim_states[a[2]],c)}if(e==IODR_ID){set_value(sim_states[a[2]],d)}}};syntax_behavior.IO_IOW={nparameters:7,types:["E","E","E","E","E","E"],operation:function(b){var e=sim_states[b[1]].value;var c=sim_states[b[2]].value;if((e!=IOSR_ID)&&(e!=IOCR_ID)&&(e!=IODR_ID)){return}if(e==IOSR_ID){set_value(sim_states[b[3]],c)}if(e==IOCR_ID){set_value(sim_states[b[4]],c)}if(e==IODR_ID){set_value(sim_states[b[5]],c)}var a=sim_states[b[4]].value;var d=sim_states[b[5]].value;if((a<0)||(a>7)){return}IO_INT_FACTORY[a].period(d);IO_INT_FACTORY[a].probability(1);if(0==d){IO_INT_FACTORY[a].probability(0)}}};syntax_behavior.IO_CHK_I={nparameters:4,types:["E","S","E"],operation:function(a){var c=get_value(sim_states[a[1]]);for(var b=IO_INT_FACTORY.length-1;b>=0;b--){if(IO_INT_FACTORY[b].period()==0){continue}if(IO_INT_FACTORY[b].active()==true){set_value(sim_signals[a[2]],1);set_value(sim_states[a[3]],b)}if((c%IO_INT_FACTORY[b].period())==0){if(Math.random()>IO_INT_FACTORY[b].probability()){continue}IO_INT_FACTORY[b].accumulated(IO_INT_FACTORY[b].accumulated()+1);IO_INT_FACTORY[b].active(true);if(typeof sim_events.io[c]=="undefined"){sim_events.io[c]=new Array()}sim_events.io[c].push(b);set_value(sim_signals[a[2]],1);set_value(sim_states[a[3]],b)}}}};syntax_behavior.INTA={nparameters:6,types:["E","S","S","E","E"],operation:function(a){var c=get_value(sim_states[a[1]]);if(typeof sim_events.io[c]!="undefined"){set_value(sim_states[a[4]],sim_events.io[c][0]);return}set_value(sim_signals[a[2]],0);set_value(sim_states[a[5]],0);for(var b=0;b<IO_INT_FACTORY.length;b++){if(IO_INT_FACTORY[b].active()){set_value(sim_signals[a[2]],0);set_value(sim_states[a[5]],b);set_value(sim_states[a[4]],b);if(typeof sim_events.io[c]=="undefined"){sim_events.io[c]=new Array()}sim_events.io[c].push(b);IO_INT_FACTORY[b].active(false);break}}}};sim_components.KBD={name:"KBD",version:"1",write_state:function(a){return a},read_state:function(b,a){return false},get_state:function(a){return null}};var KBDR_ID=256;var KBSR_ID=260;io_hash[KBDR_ID]="KBDR";io_hash[KBSR_ID]="KBSR";sim_states.KBDR={name:"KBDR",visible:false,nbits:"32",value:0,default_value:0,draw_data:[]};sim_states.KBSR={name:"KBSR",visible:false,nbits:"32",value:0,default_value:0,draw_data:[]};sim_signals.KBD_IOR={name:"IOR",visible:true,type:"L",value:0,default_value:0,nbits:"1",behavior:["NOP","KBD_IOR BUS_AB BUS_DB KBDR KBSR CLK; FIRE SBWA"],fire_name:["svg_p:tspan4057"],draw_data:[[],["svg_p:path3863","svg_p:path3847"]],draw_name:[[],[]]};syntax_behavior.KBD_IOR={nparameters:6,types:["E","E","E","E","E"],operation:function(c){var e=sim_states[c[1]].value;var d=sim_states[c[5]].value();if((e!=KBDR_ID)&&(e!=KBSR_ID)){return}if(typeof sim_events.keybd[d]!="undefined"){if(e==KBDR_ID){set_value(sim_states[c[2]],sim_events.keybd[d])}if(e==KBSR_ID){set_value(sim_states[c[2]],1)}return}if(get_value(sim_states[c[4]])==0){var b=document.getElementById("kdb_key").value;if(b.length!=0){var a=b.substr(1,b.length-1);document.getElementById("kdb_key").value=a;set_value(sim_states[c[4]],1);set_value(sim_states[c[3]],b[0].charCodeAt(0))}}if(get_value(sim_states[c[4]])==1){sim_events.keybd[d]=sim_states[c[3]].value}if(e==KBSR_ID){set_value(sim_states[c[2]],sim_states[c[4]].value)}if(e==KBDR_ID){if(get_value(sim_states[c[4]])==1){set_value(sim_states[c[2]],get_value(sim_states[c[3]]))}set_value(sim_states[c[4]],0)}}};sim_components.SCREEN={name:"SCREEN",version:"1",write_state:function(b){if(typeof b.SCREEN=="undefined"){b.SCREEN=new Object()}var d=get_screen_content();var c=d.trim().split("\n");for(var a=0;a<c.length;a++){value=c[a];if(value!=""){b.SCREEN[a]={type:"screen",default_value:"",id:a,op:"==",value:value}}}return b},read_state:function(b,a){if(typeof b.SCREEN=="undefined"){b.SCREEN=new Object()}if("SCREEN"==a.type.toUpperCase().trim()){b.SCREEN[a.id]={type:"screen",default_value:"",id:a.id,op:a.condition,value:a.value};return true}return false},get_state:function(a){var d=get_screen_content();var c=d.trim().split("\n");var b=parseInt(a);if(typeof c[b]!="undefined"){return c[b]}return null}};var DDR_ID=4096;var DSR_ID=4100;io_hash[DDR_ID]="DDR";io_hash[DSR_ID]="DSR";sim_states.DDR={name:"DDR",visible:false,nbits:"32",value:0,default_value:0,draw_data:[]};sim_states.DSR={name:"DSR",visible:false,nbits:"32",value:0,default_value:0,draw_data:[]};sim_signals.SCR_IOR={name:"IOR",visible:true,type:"L",value:0,default_value:0,nbits:"1",behavior:["NOP","SCR_IOR BUS_AB BUS_DB DDR DSR CLK"],fire_name:["svg_p:tspan4004"],draw_data:[[],["svg_p:path3871","svg_p:path3857"]],draw_name:[[],[]]};sim_signals.SCR_IOW={name:"IOW",visible:true,type:"L",value:0,default_value:0,nbits:"1",behavior:["NOP","SCR_IOW BUS_AB BUS_DB DDR DSR CLK"],fire_name:["svg_p:tspan4006"],draw_data:[[],["svg_p:path3873","svg_p:path3857"]],draw_name:[[],[]]};syntax_behavior.SCR_IOR={nparameters:6,types:["E","E","E","E","E"],operation:function(b){var d=sim_states[b[1]].value;var c=sim_states[b[3]].value;var a=sim_states[b[4]].value;if(d==DDR_ID){sim_states[b[2]].value=c}if(d==DSR_ID){sim_states[b[2]].value=a}}};syntax_behavior.SCR_IOW={nparameters:6,types:["E","E","E","E","E"],operation:function(c){var h=sim_states[c[1]].value;var e=sim_states[c[2]].value;var g=sim_states[c[5]].value();var f=String.fromCharCode(e);if(h!=DDR_ID){return}if(f==String.fromCharCode(7)){timbre.reset();var d=T("sin",{freq:440,mul:0.5});var b=T("sin",{freq:660,mul:0.5});T("perc",{r:500},d,b).on("ended",function(){this.pause()}).bang().play()}else{var a=get_screen_content();if(typeof sim_events.screen[g]!="undefined"){a=a.substr(0,a.length-1)}set_screen_content(a+String.fromCharCode(e))}sim_states[c[3]].value=e;sim_states[c[4]].value=1;sim_events.screen[g]=e}};