<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title></title>
    <style type="text/css">
/*<![CDATA[*/
    :link { color: #0563C1 }
    :visited { color: #954F72 }
    p.cleanuphtml-4 {font-weight: bold}
    p.cleanuphtml-3 {text-align: center}
    a.cleanuphtml-2 {font-weight: bold}
    b.cleanuphtml-1 {font-style: italic}
    /*]]>*/
    </style>
    <!-- Clean HTML generated by http://www.cleanuphtml.com/ -->
    <meta name="Generator" content="Cleanup HTML">
  </head>


  <body>

  <div class="panel-group" id="accordion">

    <div class="panel panel-default">
      <div class="panel-heading"><a data-toggle="collapse" data-parent="#accordion" href="#collapse1"><h4 class="panel-title">La arquitectura de WepSIM</h4></a></div>
      <div id="collapse1" class="panel-collapse collapse in">
        <div class="panel-body" style="height:65vh; width: inherit; overflow-y: scroll;">

	      <p> </p>
	      <p>
	        El sistema completo simulado (v&eacute;ase la <b class="cleanuphtml-1">Figura 1</b>) incluye adem&aacute;s del procesador, una memoria de 1 MB (direccionada por bytes), un teclado, una pantalla y un
	        dispositivo de entrada y salida capaz de generar interrupciones.
	      </p>
	      <p>
	      </p>
	      <p>
	        <img             id="Imagen 2" src="sim_help_simulator_archivos/image001.jpg" alt="" name="Imagen 2" />
	      </p>
	      <p class="cleanuphtml-3">
	        <a name="_Toc438322890"></a><a class="cleanuphtml-2" name="_Ref434141389">Figura</a> <b>1</b> <b>Sistema Completo</b>
	      </p>
	      <p>
	      </p>
	      <p>
	        El procesador (v&eacute;ase la <b class="cleanuphtml-1">Figura 2</b>) es de 32 bits, trabaja con hasta 64 instrucciones definibles por el usuario (estilo MIPS, ARM, etc.), dispone de un banco de
	        registros de 32 registros y usa un mapa de E/S separado.
	      </p>
	      <p>
	      </p>
	      <p class="cleanuphtml-3">
	        <img             id="Imagen 9" src="sim_help_simulator_archivos/image002.jpg" alt="" name="Imagen 9" />
	      </p>
	      <p class="cleanuphtml-3">
	        <a name="_Toc438322891"></a><a class="cleanuphtml-2" name="_Ref434142801">Figura</a> <b>2</b> <b>Procesador  WepSIM</b>
	      </p>
	      <p>
	      </p>
	      <p>
	        El procesador utiliza direcciones de  32 bits, usando el bus de direcciones (<i>Address Bus</i>) para direcciones y el bus de datos (<i>Data Bus</i>) para enviar/recibir los datos a/desde
	        memoria.
	      </p>
	      <p>
	         
	      </p>
	      <p>
	        El procesador espera un ciclo para que la memoria realice la operaci&oacute;n de lectura (activada con la se&ntilde;al R) o bien la operaci&oacute;n de escritura (activada con la se&ntilde;al W).
	      </p>
	      <p>
	         
	      </p>
	      <p>
	        La memoria usa una configuraci&oacute;n <i>Little-Endian</i> tal y como se muestra en <b class="cleanuphtml-1">Figura 3</b>.
	      </p>
	      <p>
	         
	      </p>
	      <p class="cleanuphtml-3">
	        <img             id="Imagen 22" src="sim_help_simulator_archivos/image003.jpg" alt="" name="Imagen 22" />
	      </p>
	      <p class="cleanuphtml-3">
	         
	      </p>
	      <p class="cleanuphtml-3">
	        <a name="_Toc438322892"></a><a class="cleanuphtml-2" name="_Ref434149687">Figura</a> <b>3</b> <b>Ordenaci&oacute;n de bytes en memoria</b>
	      </p>
	      <p>
	         
	      </p>
	      <p>
	        Por tanto el byte menos significativo est&aacute; en la direcci&oacute;n m&aacute;s baja de memoria.
	      </p>
	      <p>
	         
	      </p>
	      <p>
	        El acceso a la memoria se realiza a nivel de byte.
	      </p>
	      <p>
	        Para la selecci&oacute;n del byte se precisa indicar por un lado la direcci&oacute;n de la palabra donde se encuentra (A<sub>31</sub>...A<sub>2</sub>00), y por otro lado el byte dentro de esa palabra al que se desea acceder (BE<sub>3</sub>...BE<sub>0</sub>).
	      </p>
	      <p>
	         
	      </p>
	      <p class="cleanuphtml-3">
	        <img             id="Imagen 24" src="sim_help_simulator_archivos/image004.jpg" alt="" name="Imagen 24" />
	      </p>
	      <p class="cleanuphtml-3">
	        <a name="_Toc438322893"></a><a class="cleanuphtml-2" name="_Ref434150369">Figura</a> <b>4</b> <b>M&oacute;dulo de memoria</b>
	      </p>
	      <p>
	         
	      </p>
	      <p>
	        La <b class="cleanuphtml-1">Figura 4</b> muestra estas entradas/salidas comentadas, a las que hay que unir las se&ntilde;ales R y W para la petici&oacute;n de lectura y escritura respectivamente.
	      </p><br clear="all" />
	      <p>
	         
	      </p>
	      <h2>
	        <a name="_Toc438325788">Organizaci&oacute;n interna: se&ntilde;ales de control</a>
	      </h2>
	      <p>
	         
	      </p>
	      <p>
	        La unidad de control en WepSIM es microprogramable. Su memoria de control consta de 4096 micropalabras de 76 bits cada una (v&eacute;ase <b class="cleanuphtml-1">Figura 5</b>).
	      </p>
	      <p class="cleanuphtml-3">
	        <img             id="Imagen 12" src="sim_help_simulator_archivos/image005.jpg" alt="" name="Imagen 12" />
	      </p>
	    <br clear="all" />
	    <div class="WordSection2"></div>
	    <br clear="all" />
	    <div class="WordSection3">
	      <p class="cleanuphtml-3">
	        <a name="_Toc438322894"></a><a class="cleanuphtml-2" name="_Ref434141431">Figura</a> <b>5</b> <b>Formato de microinstrucci&oacute;n</b>
	      </p>
	      <p>
	        La nomenclatura general usada para el nombre las se&ntilde;ales de control es la siguiente:
	      </p>
	      <p>
	               Cx: se&ntilde;al de carga de registro x
	      </p>
	      <p>
	               Tx: se&ntilde;al de activaci&oacute;n triestado x
	      </p>
	      <p>
	               Ry: identificador de registro para el punto de salida de valor y
	      </p>
	      <p>
	               Mx: selecci&oacute;n en multiplexor x
	      </p>
	      <p>
	        Adicionalmente la se&ntilde;al LE indica la escritura en el banco de registros, Cop indica la operaci&oacute;n a realizar en la ALU, SelP selecciona qu&eacute; bits actualizar en el registro de estado (SR), A1A0
	        son los dos bits menos significativos de una direcci&oacute;n de memoria y BW permite especificar el tama&ntilde;o del dato al que se accede en memoria: una palabra completa, media palabra o un byte.
	      </p>
	      <p>
	         
	      </p>
	      <p>
	        El procesador (v&eacute;ase la figura <b class="cleanuphtml-1">Figura 6</b>) puede considerarse dividido en 7 partes: acceso a memoria (MAR, MBR, etc.), gesti&oacute;n del registro contador de programa
	        (PC, etc.), gesti&oacute;n del registro de instrucci&oacute;n (IR, etc.), unidad de control (<i>Control Unit</i>), banco de registros (<i>Register File</i>), ALU y gesti&oacute;n del registro de estado (SR,
	        etc.).
	      </p>
	      <p>
	        <img             id="Imagen 5" src="sim_help_simulator_archivos/image006.jpg" alt="" name="Imagen 5" />
	      </p>
	      <p class="cleanuphtml-3">
	        <a name="_Toc438322895"></a><a class="cleanuphtml-2" name="_Ref434141629">Figura</a> <b>6</b> <b>Detalle del procesador</b>
	      </p>
	      <p>
	        <br />
	        La unidad de control (v&eacute;ase la figura <b class="cleanuphtml-1">Figura 7</b>) a su vez est&aacute; dividida en 5 partes: el control de la siguiente microdirecci&oacute;n (MUX A, etc.), la transformaci&oacute;n del
	        c&oacute;digo de operaci&oacute;n a la microdirecci&oacute;n correspondiente (co2uAddr), el control de la condici&oacute;n de selecci&oacute;n de microdirecci&oacute;n (MUX B, MUX C, etc.), la memoria de control junto con el registro
	        de microinstrucci&oacute;n y por &uacute;ltimo los selectores de RA, RB, RE y Cop.
	      </p>
	      <p>
	        <img             id="Imagen 7" src="sim_help_simulator_archivos/image007.jpg" alt="" name="Imagen 7" />
	      </p>
	      <p class="cleanuphtml-3">
	        <a name="_Toc438322896"></a><a class="cleanuphtml-2" name="_Ref434141950">Figura</a> <b>7</b> <b>Detalle de la unidad de control</b>
	      </p>
	      <p>
	        Para direccionar la memoria de control se precisa direcciones de 12 bits us&aacute;ndose secuenciamiento impl&iacute;cito. Es posible indicar como microdirecci&oacute;n de memoria de control (v&eacute;ase <b class=
	        "cleanuphtml-1">Figura 8</b>) la siguiente posici&oacute;n, usar parte de la microinstrucci&oacute;n, usar la salida de una ROM con la microdirecci&oacute;n de comienzo asociada a un c&oacute;digo de operaci&oacute;n o bien la
	        microdirecci&oacute;n cero (0) a partir de la cual comienza el <i>fetch</i>.
	      </p>
	      <p class="cleanuphtml-3">
	        <img             id="Imagen 11" src="sim_help_simulator_archivos/image008.jpg" alt="" name="Imagen 11" />
	      </p>
	      <p class="cleanuphtml-3">
	        <a name="_Toc438322897"></a><a class="cleanuphtml-2" name="_Ref434143860">Figura</a> <b>8</b> <b>Opciones para el MUX A</b>
	      </p>
	      <p class="cleanuphtml-4"></p>
	      <p class="cleanuphtml-4"></p>
	    </div>

        </div>
      </div>
    </div>


    <div class="panel panel-default">
      <div class="panel-heading"><a data-toggle="collapse" data-parent="#accordion" href="#collapse2"><h4 class="panel-title">Ejecuci&oacute;n en WepSIM</h4></a></div>
      <div id="collapse2" class="panel-collapse collapse">
        <div class="panel-body" style="height:65vh; width: inherit; overflow-y: scroll;">

	      <p>
	      </p>
	      <p>
	        El ciclo de trabajo supone (normalmente) los siguientes pasos:
		<ul>
                <li><a href="#"
                       onclick="$('#iframe_help1').load('sim_help_firmware.html', function(){});">Cargar un firmware de trabajo.</a></li>
                <li><a href="#"
                       onclick="$('#iframe_help1').load('sim_help_assembly.html', function(){});">Cargar un programa en ensamblador que use el firmware de trabajo.</a></li>
		<li>Ir a la pantalla principal (simulador) para ejecutar el programa en ensamblador que use el firmware de trabajo.</li>
		</ul>
	      </p>
	      <p>

	      </p>
	      <p>
	        Estando en la pantalla principal es posible visualizar:
	      </p>
	      <ul>
	      <li>
	        El contenido de la memoria de control (v&eacute;ase la <b>Figura <i>24</i></b>), con las se&ntilde;ales que est&aacute;n asociadas a cada ciclo. Para ello ha de pulsar el bot&oacute;n "<i>Control Memory</i>" en
	        la barra de botones situada en la parte superior derecha de la pantalla principal.<br />
	        Se destaca las se&ntilde;ales que en el presente ciclo de reloj est&aacute;n activadas en azul con letra algo m&aacute;s grande.<br />
	        Se dispone de una barra de desplazamiento para poder inspeccionar todo el contenido de la memoria de control.
	      </li>
	      <li>
	        El contenido de la memoria principal (v&eacute;ase la <b class="cleanuphtml-1">Figura 25</b>), con las instrucciones en ensamblador a ejecutar. Para estas, es posible establecer un punto de
	        ruptura haciendo clic en la columna <i>breakpoints</i>. Al establecer un punto de ruptura aparecer&aacute; un icono en dicha columna.
	      </li>
	      </ul>
	      <p>
	        <img             id="Imagen 1" src="sim_help_simulator_archivos/image009.jpg" alt="" name="Imagen 1" />
	      </p>
	      <p class="cleanuphtml-3">
	        <a name="_Toc438322913"></a><a class="cleanuphtml-2" name="_Ref434192973">Figura</a> <b>24</b> <b>Pantalla principal: visualizaci&oacute;n de la memoria de control</b>
	      </p>
	      <p>
	      </p>
	      <p>
	        <img             id="Imagen 3" src="sim_help_simulator_archivos/image010.jpg" alt="" name="Imagen 3" />
	      </p>
	      <p class="cleanuphtml-3">
	        <a name="_Toc438322914"></a><a class="cleanuphtml-2" name="_Ref434193222">Figura</a> <b>25</b> <b>Pantalla principal: visualizaci&oacute;n del c&oacute;digo en la memoria principal</b>
	      </p>
	      <p>
	      </p>
	      <p>
	        Estando en la pantalla principal es posible ejecutar:
	      </p>
	      <p>
	               Microinstrucci&oacute;n a microinstrucci&oacute;n pulsando el bot&oacute;n "킝nstrucci&oacute;n" (v&eacute;ase la <b class="cleanuphtml-1">Figura 26</b>), de forma que se pasar&aacute; al siguiente ciclo de reloj y se
	        generar&aacute;n las se&ntilde;ales de control asociadas.
	      </p>
	      <p>
	               Instrucci&oacute;n a instrucci&oacute;n pulsando el bot&oacute;n "Instrucci&oacute;n" (v&eacute;ase la <b class="cleanuphtml-1">Figura 26</b>) de forma que se generar&aacute;n todos los ciclos de reloj asociados al
	        microprograma de la instrucci&oacute;n, parando al principio del <i>fetch</i>.
	      </p>
	      <p>
	      </p>
	      <p>
	        <img             id="Imagen 4" src="sim_help_simulator_archivos/image011.jpg" alt="" name="Imagen 4" />
	      </p>
	      <p class="cleanuphtml-3">
	        <a name="_Toc438322915"></a><a class="cleanuphtml-2" name="_Ref434193775">Figura</a> <b>26</b> <b>Pantalla principal: opciones para la ejecuci&oacute;n</b>
	      </p>
	      <p>
	        <br />
	        Dando al bot&oacute;n "<i>Registers</i>" en la barra de botones situada en la parte superior derecha de la pantalla principal (v&eacute;ase la <b class="cleanuphtml-1">Figura 26</b>) es posible ver c&oacute;mo
	        los valores de los registros son modificados durante la ejecuci&oacute;n.
	      </p>
	      <p>
	        Es posible visualizar tambi&eacute;n la unidad de control como se muestra en la <b class="cleanuphtml-1">Figura 27</b>.
	      </p>
	      <p>
	      </p>
	      <p>
	        <img             id="Imagen 8" src="sim_help_simulator_archivos/image012.jpg" alt="" name="Imagen 8" />
	      </p>
	      <p class="cleanuphtml-3">
	        <a name="_Toc438322916"></a><a class="cleanuphtml-2" name="_Ref434194139">Figura</a> <b>27</b> <b>Pantalla principal: visualizaci&oacute;n de la unidad de control</b>
	      </p>
	      <p>
	        As&iacute; como tambi&eacute;n es posible reiniciar la ejecuci&oacute;n haciendo clic al bot&oacute;n "Reset" situado en la barra de botones que aparece en la parte superior de la pantalla.
	      </p>
	      <p>
	      </p>
	      <p>
	      </p>

      </div>
    </div>

  </div> 

  </body>
</html>

